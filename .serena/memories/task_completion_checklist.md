# 任务完成检查清单

## 代码修改后的检查项
1. **代码风格一致性**
   - [ ] 符合项目的命名约定
   - [ ] 添加了适当的类型注解
   - [ ] 更新了相关的文档字符串
   - [ ] 保持4空格缩进

2. **导入检查**
   - [ ] 导入顺序正确 (标准库 → 第三方 → 本地)
   - [ ] 移除了未使用的导入
   - [ ] 添加了必要的导入

3. **配置更新**
   - [ ] 更新了相关的YAML配置文件
   - [ ] 保持了向后兼容性 (如需要)
   - [ ] 验证了配置参数的有效性

## 训练相关任务
### 准备阶段
- [ ] 验证数据集路径正确性
- [ ] 检查预训练模型权重可用性
- [ ] 确认存储空间充足 (特别是特征缓存)
- [ ] 设置正确的环境变量

### 训练执行
- [ ] 调整脚本中的硬件参数 (GPUS, BATCH_SIZE等)
- [ ] 设置正确的输出目录
- [ ] 验证分布式训练设置 (多节点/多GPU)
- [ ] 检查日志文件生成

### 训练后验证
- [ ] 检查训练日志无异常错误
- [ ] 验证检查点文件正确保存
- [ ] 运行评估脚本验证模型性能
- [ ] 记录关键训练指标

## 提交更改
### Git流程
- [ ] 运行 `git status` 查看更改
- [ ] 添加相关文件 `git add <files>`
- [ ] 提交更改 `git commit -m "描述性消息"`
- [ ] 遵循项目的提交消息格式

### 提交消息格式
```
简短描述 (50字符以内)

详细描述:
- 修改了什么
- 为什么修改
- 可能的影响

相关Issue: #<issue-number>
```

## 测试验证
### 单元测试
- [ ] 运行现有单元测试 `pytest tests/`
- [ ] 为新功能添加测试
- [ ] 确保测试通过率100%

### 集成测试
- [ ] 验证端到端训练流程
- [ ] 检查模型加载和推理
- [ ] 验证配置文件的正确性

### 性能测试
- [ ] 检查训练速度是否符合预期
- [ ] 验证内存使用在合理范围内
- [ ] 确认分布式训练正常工作

## 文档更新
- [ ] 更新README中的相关部分
- [ ] 添加/更新API文档
- [ ] 更新配置说明文档
- [ ] 添加使用示例

## 部署检查
### 模型导出
- [ ] 验证模型可以正确加载
- [ ] 检查模型权重格式正确
- [ ] 测试推理速度

### 环境一致性
- [ ] 验证requirements.txt包含所有依赖
- [ ] 检查环境配置脚本正确性
- [ ] 确认跨平台兼容性

## 特定阶段检查
### VLM微调阶段
- [ ] 确认InternVL依赖正确安装
- [ ] 验证数据集配置文件路径
- [ ] 检查DeepSpeed配置

### DIT模仿学习阶段
- [ ] 确认VLM特征缓存完成
- [ ] 验证扩散规划器配置
- [ ] 检查训练损失收敛

### DiffGRPO强化学习阶段
- [ ] 确认指标缓存完成
- [ ] 验证参考策略检查点
- [ ] 检查RL训练稳定性

## 故障排除
### 常见问题
- [ ] CUDA内存不足: 调整batch size或使用梯度累积
- [ ] 数据集加载失败: 检查路径和权限
- [ ] 分布式训练错误: 检查NCCL设置和网络
- [ ] 模型不收敛: 检查学习率和数据质量

### 日志检查点
- [ ] 查看训练日志中的错误信息
- [ ] 检查TensorBoard可视化指标
- [ ] 验证检查点文件完整性